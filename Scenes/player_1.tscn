[gd_scene load_steps=46 format=3 uid="uid://txcplk4msayd"]

[ext_resource type="Texture2D" uid="uid://hel717j1tsg7" path="res://assets/knight_character_pack_v3.0_by_rgsdev/knight_character_pack_v3.0_by_rgsdev/16x16 knight 3 v3.png" id="1_2mvbs"]
[ext_resource type="Script" uid="uid://dh3y0dtdap42t" path="res://scripts/player_1.gd" id="1_tmdyv"]
[ext_resource type="Script" uid="uid://buoesifbw65rw" path="res://scripts/state_machine.gd" id="3_p0e4v"]
[ext_resource type="PackedScene" uid="uid://pbv76wghxcyf" path="res://Scenes/cameraplayertscn.tscn" id="4_c4k0l"]
[ext_resource type="PackedScene" uid="uid://cumjpica6cgto" path="res://Scenes/barra_vida.tscn" id="5_aatkl"]

[sub_resource type="AtlasTexture" id="AtlasTexture_p0e4v"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_c4k0l"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_aatkl"]
atlas = ExtResource("1_2mvbs")
region = Rect2(128, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lp8rx"]
atlas = ExtResource("1_2mvbs")
region = Rect2(192, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jkush"]
atlas = ExtResource("1_2mvbs")
region = Rect2(256, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vmi10"]
atlas = ExtResource("1_2mvbs")
region = Rect2(320, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mndha"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2mvbs"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tmdyv"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ympu"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1fs8r"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_s4j3i"]
atlas = ExtResource("1_2mvbs")
region = Rect2(128, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_et7db"]
atlas = ExtResource("1_2mvbs")
region = Rect2(192, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_du3lb"]
atlas = ExtResource("1_2mvbs")
region = Rect2(256, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kslfe"]
atlas = ExtResource("1_2mvbs")
region = Rect2(320, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_k46vw"]
atlas = ExtResource("1_2mvbs")
region = Rect2(384, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xg3ne"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tyugg"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1mvt"]
atlas = ExtResource("1_2mvbs")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qrwht"]
atlas = ExtResource("1_2mvbs")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dbliy"]
atlas = ExtResource("1_2mvbs")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ccce5"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ex6al"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_durvq"]
atlas = ExtResource("1_2mvbs")
region = Rect2(128, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2xfhf"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a8pmy"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uotsj"]
atlas = ExtResource("1_2mvbs")
region = Rect2(0, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_va88g"]
atlas = ExtResource("1_2mvbs")
region = Rect2(64, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hsg2c"]
atlas = ExtResource("1_2mvbs")
region = Rect2(128, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vadkl"]
atlas = ExtResource("1_2mvbs")
region = Rect2(192, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bkimo"]
atlas = ExtResource("1_2mvbs")
region = Rect2(256, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yt1lk"]
atlas = ExtResource("1_2mvbs")
region = Rect2(320, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gepg7"]
atlas = ExtResource("1_2mvbs")
region = Rect2(384, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lctyb"]
atlas = ExtResource("1_2mvbs")
region = Rect2(448, 64, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_s1db0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p0e4v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c4k0l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aatkl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lp8rx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jkush")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vmi10")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mndha")
}],
"loop": false,
"name": &"attack player",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2mvbs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tmdyv")
}],
"loop": false,
"name": &"defense player",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ympu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1fs8r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s4j3i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_et7db")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_du3lb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kslfe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k46vw")
}],
"loop": false,
"name": &"die player",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xg3ne")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tyugg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1mvt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qrwht")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dbliy")
}],
"loop": true,
"name": &"idle player",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ccce5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ex6al")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_durvq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2xfhf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a8pmy")
}],
"loop": true,
"name": &"jump player",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_uotsj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_va88g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hsg2c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vadkl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bkimo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yt1lk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gepg7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lctyb")
}],
"loop": true,
"name": &"walk player",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tmdyv"]
size = Vector2(10, 21)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aatkl"]
size = Vector2(20.5, 16)

[sub_resource type="Animation" id="Animation_aatkl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attack:monitoring")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_c4k0l"]
resource_name = "attack"
length = 1.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attack:monitoring")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.999819),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lp8rx"]
_data = {
&"RESET": SubResource("Animation_aatkl"),
&"attack": SubResource("Animation_c4k0l")
}

[node name="Player1" type="CharacterBody2D"]
collision_layer = 2
collision_mask = 5
script = ExtResource("1_tmdyv")

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_p0e4v")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(-4.54747e-13, -2.84217e-14)
scale = Vector2(1.25, 1.25)
sprite_frames = SubResource("SpriteFrames_s1db0")
animation = &"idle player"
speed_scale = 1.3

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 9.5)
shape = SubResource("RectangleShape2D_tmdyv")

[node name="Camera2D" parent="." instance=ExtResource("4_c4k0l")]
zoom = Vector2(2.45, 2.45)

[node name="Attack" type="Area2D" parent="."]
position = Vector2(15, 9)
collision_layer = 0
collision_mask = 4
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Attack"]
position = Vector2(6.75, 2)
shape = SubResource("RectangleShape2D_aatkl")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_lp8rx")
}

[node name="Interfaz" type="CanvasLayer" parent="."]

[node name="Barravida" parent="Interfaz" instance=ExtResource("5_aatkl")]
unique_name_in_owner = true
offset_left = 17.0
offset_top = 14.0
offset_right = 74.0
offset_bottom = 30.0

[connection signal="animation_finished" from="AnimatedSprite2D" to="StateMachine" method="_on_animated_sprite_2d_animation_finished"]
[connection signal="body_entered" from="Attack" to="." method="_on_attack_body_entered"]
